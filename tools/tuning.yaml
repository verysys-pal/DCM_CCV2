# Optional overlay for tuning parameters.
# If present, pv_bridge loads this file after tools/pv_init.yaml and
# shallow-merges `config` and `pvs` sections.
#
# Example keys for `config` (see tools/pv_init.yaml for descriptions):
# config:
#   lt19_fill_lps: 1.0
#   lt23_refill_rate_pctps: 0.5
#   lt23_drain_rate_pctps: 0.02
#   lt23_base_cons_pctps: 0.05
#   lt23_power_cons_pctps_perW: 2.0e-04
#   lt23_heater_cons_pctps_max: 0.2
#   lt23_vent_gamma_pctps: 0.1
#   lt19_base_cons_lps: 0.000833
#   lt19_power_cons_lps_perW: 1.39e-05
#   lt19_vent_gamma_lps_perLpm: 0.004/60
#
# You can also seed or override PV values here (merged with pv_init.yaml):
# pvs:
#   BL:DCM:CRYO:TEMP:SETPOINT: 80.0
#   BL:DCM:CRYO:DCM:POWER: 200.0

config:
  # Level dynamics (optional tuning)
  lt19_fill_lps: 1.2              # [L/s] Subcooler fill flow when V19 OPEN
  lt23_refill_rate_pctps: 1.2     # [%/s] HV refill rate when V15 OPEN
  lt23_drain_rate_pctps: 0.0167   # [%/s] HV drain rate proportional to V17

  # HV tank (LT23) consumption sensitivity (percentage per second)
  # - lt23_base_cons_pctps: 시스템 동작 시 기본 소비율 [%/s]
  # - lt23_power_cons_pctps_perW: 전력 1 W당 추가 소비율 [%/(s·W)]
  # - lt23_heater_cons_pctps_max: 압력제어(히터) 최대동작 시 추가 소비율 상한 [%/s]
  # - lt23_vent_gamma_pctps: HV 벤트(V20) 개방 시 추가 소비율 계수(개도 비율에 비례) [%/s]
  lt23_base_cons_pctps: 0.1
  lt23_power_cons_pctps_perW: 0.001
  lt23_heater_cons_pctps_max: 0.3

  # SubCooler consumption sensitivity (advanced; increase to see stronger power effect)
  # 기본값(모델): base_cons_Lps = 3.0/3600 ≈ 8.33e-4 L/s,
  #               cons_coeff_Lps_perW = 0.023/3600 ≈ 6.39e-6 L/s/W
  # 아래 값은 효과를 크게 보기 위한 과장치(테스트용)
  # lt19_base_cons_lps: 8.33e-4
  lt19_power_cons_lps_perW: 0.001     # [(L/s)/W]
  # lt19_vent_gamma_lps_perLpm: 0.004/60

# pvs:
#   # Optional: PV seeds/overrides
